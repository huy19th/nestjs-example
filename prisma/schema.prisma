datasource db {
    provider = "postgresql"
    url      = env("POSTGRES_URL")
}

generator client {
    provider = "prisma-client-js"
}

model Wallet {
    id        String        @id @default(cuid())
    balance   BigInt
    createdAt DateTime      @default(now())
    inTrans   Transaction[] @relation(name: "Receiver")
    outTrans  Transaction[] @relation(name: "Sender")
    deleted   Boolean       @default(false)
}

model Transaction {
    id          String   @id @default(cuid())
    money       BigInt
    fromId      String
    toId        String
    fromWallet  Wallet   @relation(fields: [fromId], references: [id], name: "Sender", onDelete: NoAction)
    toWallet    Wallet   @relation(fields: [toId], references: [id], name: "Receiver", onDelete: NoAction)
    description String?
    createdAt   DateTime @default(now())
}
